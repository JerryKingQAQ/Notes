# 操作系统各种性质

## 第一章 引论

操作系统的**目标**：**方便性**、**有效性**、**可扩展性**和**开放性**



**分时系统**特点：**多路性**、**独立性**、**及时性**、**交互性**

**实时系统**特点：**多路性**、**独立性**、**及时性**、**交互性**、**可靠性**



操作系统的**基本特征**：**并发**、**共享**、**虚拟**和**异步**

操作系统内核三个基本功能：**中断处理**、**时钟管理**、**原语操作**



操作系统的主要功能：处理机管理功能、存储器管理功能、设备管理功能、文件管理功能、接口管理功能



微内核操作系统的优点：

- 提高了OS的**可扩展性**
- 增强了OS的**可靠性**
- 增强了OS的**可移植性**
- 适用于**分布式**系统



## 第二章 进程的描述与控制

程序**顺序执行**的特征：**顺序性**、**封闭性**和**可再现性**

程序**并发执行**的特征：**间断性**、**失去封闭性**和**不可再现性**



进程=程序段+相关的数据段+PCB（进程控制块）

**进程**的特性：**动态性**、**并发性**、**独立性**、**异步性**

进程的三个基本状态：**就绪状态**、**执行状态**、**阻塞状态**



OS管理的数据结构：内存表、设备表、文件表和进程表

PCB中的信息：**进程标识符**、**处理机状态**、**进程调度信息**、进**程控制信息**

PCB组织方式：线性方式、链接方式、索引方式



导致一个进程去创建另一个进程的典型事件有四类：

- 用户登录
- 作业调度
- 提供服务
- 应用请求



引起进程**阻塞**和**唤醒**的事件：

- 向系统请求共享资源失败
- 等待某种操作的完成
- 新数据尚未到达
- 等待新任务的到达



线程：作为**调度**和**分派**的**基本单位**，但**不是拥有资源的基本单位**

进程可以拥有资源，但线程不拥有资源



## 第三章 处理机调度与死锁

处理机调度层次：高级调度（作业调度）、中级调度（内存调度）、低级调度（进程调度）



**进程调度**的**任务**主要有三类（重要）：

- 保护CPU现场信息
- 按照某种算法选取进程
- 把CPU分配给进程



处理机调度算法的共同目标：资源利用率、公平性、平衡性、策略强制执行



**重要的时间概念：（重要）**
$$
等待时间=运行时刻 - 到达时刻
$$

$$
周转时间=完成时刻 - 到达时刻
$$

平均等待/周转时间即为它们除以作业数



调度算法：先来先服务 FCFS、短作业优先 SJF、优先级调度 PSA、高相应比优先调度 HRRN、轮转调度算法 RR、多级反馈队列调度算法



实时调度算法：最早截止时间优先算法 EDF、最低松弛度优先算法 LLF

**松弛度计算公式：**（重要）
$$
松弛度=截止时刻 - 需运行的时间 - 当前时刻
$$



产生死锁的**必要条件**：**互斥条件**、**请求和保持条件**、**不可抢占条件**、**循环等待条件**

死锁预防：**破坏“请求和保持”条件**、**破坏“不可抢占”条件**、**破坏“循环等待”条件**



**银行家算法**避免死锁：

![image-20231230231231981](C:\Users\Jerry\AppData\Roaming\Typora\typora-user-images\image-20231230231231981.png)

![image-20231230231420953](C:\Users\Jerry\AppData\Roaming\Typora\typora-user-images\image-20231230231420953.png)

方法：先找到一个**Avaiable**满足**Need**的进程。然后第一行Work开始写，然后每一行Work是上一行的Work+Allocation，记得写Finish位。



证明状态S为**死锁状态**的**充分条件**：当且仅当S状态的资源分配图是不可完全简化的。**（死锁定理，非充要条件）**

**基本事实：（重要）**

- 如果图没有环，那么不会有死锁
- 如果图有环，那么
  - 如果**每一种资源类型只有一个实例（即只有一个资源时）**，那么**死锁发生**
  - 如果一种资源类型有**多个实例**，那么**可能死锁**